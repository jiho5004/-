<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹œê³µ ê³µë²• ë¹„ìš© ë¹„êµ ì‹œë®¬ë ˆì´í„°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f7f7f7; }
        .result-box { transition: all 0.3s; }
        .input-group label { font-weight: 500; }
    </style>
</head>
<body class="p-4">

    <div class="max-w-3xl mx-auto bg-white shadow-xl rounded-2xl overflow-hidden">
        
        <!-- Header -->
        <header class="bg-gradient-to-r from-teal-600 to-cyan-700 text-white p-6">
            <h1 class="text-2xl font-bold mb-1"><i class="fa-solid fa-chart-line mr-2"></i> ê³µë²• ë¹„êµ ë¹„ìš© ì‹œë®¬ë ˆì´í„°</h1>
            <p class="text-sm text-teal-100">ìš°ë¦¬ ê³µë²•ì˜ 'ì§„ì§œ ì ˆê° íš¨ê³¼'ë¥¼ ëˆˆìœ¼ë¡œ í™•ì¸í•˜ì„¸ìš”.</p>
        </header>

        <!-- Main Content -->
        <main class="p-6 space-y-6">

            <!-- Canvas ì‹œê°í™” ì˜ì—­ -->
            <div class="bg-gray-100 p-4 rounded-xl border-2 border-dashed border-gray-300">
                <h2 class="text-lg font-bold text-gray-700 mb-3 flex items-center">
                    <i class="fa-solid fa-cube mr-2 text-teal-600"></i> ì‹œê³µ ë‹¨ë©´ ë¹„êµ (ì¸µê³  íš¨ê³¼)
                </h2>
                <canvas id="comparisonCanvas" width="600" height="200" class="w-full bg-white rounded-lg shadow-inner"></canvas>
                <p class="text-xs text-gray-500 mt-2 text-center">*(ë†’ì´ ë¹„ìœ¨ì€ ì˜ˆì‹œì´ë©°, ì‹¤ì œ ì‹œê³µ ë‘ê»˜ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤.)</p>
            </div>

            <!-- ì…ë ¥ ë³€ìˆ˜ ì˜ì—­ -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                
                <!-- 1. ê³µì‚¬ ê·œëª¨ -->
                <div class="input-group">
                    <label for="area" class="block text-sm text-gray-700 mb-1">ì´ ê³µì‚¬ ê·œëª¨ (í‰)</label>
                    <input type="number" id="area" value="50" min="10" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-teal-500 focus:border-teal-500" oninput="calculate()">
                </div>

                <!-- 2. ì¸µê³  ë° í• ì¦ -->
                <div class="input-group">
                    <label for="floorHeight" class="block text-sm text-gray-700 mb-1">ì¸µê³  (m)</label>
                    <select id="floorHeight" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-teal-500 focus:border-teal-500" onchange="calculate()">
                        <option value="3.0">3.0m ì´í•˜ (í‘œì¤€)</option>
                        <option value="3.5">3.0m ì´ˆê³¼ ~ 4.0m ì´í•˜ (+5% í• ì¦)</option>
                        <option value="4.5">4.0m ì´ˆê³¼ ~ 5.0m ì´í•˜ (+10% í• ì¦)</option>
                    </select>
                </div>

                <!-- 3. ê³µì‚¬ ê¸°ê°„ -->
                <div class="input-group">
                    <label for="days" class="block text-sm text-gray-700 mb-1">ì´ ê³µì‚¬ ê¸°ê°„ (ì¼)</label>
                    <input type="number" id="days" value="30" min="5" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-teal-500 focus:border-teal-500" oninput="calculate()">
                </div>

                <!-- 4. ë¬¼ëŸ‰ ë‹¨ìœ„ -->
                <div class="input-group">
                    <label for="quantityUnit" class="block text-sm text-gray-700 mb-1">ì¶”ì • ë¬¼ëŸ‰ ë‹¨ìœ„ (í—¤ë² /í‰ë‹¹)</label>
                    <input type="number" id="quantityUnit" value="1.2" step="0.1" min="0.5" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-teal-500 focus:border-teal-500" oninput="calculate()">
                </div>

            </div>
            
            <!-- ê²°ê³¼ ë¹„êµ ì˜ì—­ -->
            <div class="pt-4 border-t border-gray-200">
                <h2 class="text-xl font-bold text-gray-800 mb-4">ğŸ’° ìµœì¢… ê²¬ì  ë¹„êµ ê²°ê³¼</h2>
                <div class="grid grid-cols-2 gap-4">
                    
                    <!-- ì¼ë°˜ ê³µë²• ê²°ê³¼ -->
                    <div class="result-box p-4 rounded-xl bg-gray-100 border border-gray-300">
                        <p class="text-sm font-semibold text-gray-600 mb-2">ê¸°ì¡´ ì¼ë°˜ ê³µë²• (Aì‚¬ ê¸°ì¤€)</p>
                        <div class="text-2xl font-extrabold text-red-600" id="normalCost">0ì›</div>
                        <p class="text-xs text-gray-500 mt-2">ì˜ˆìƒ ì´ ì†Œìš” ê¸ˆì•¡</p>
                    </div>

                    <!-- ìš°ë¦¬ ê³µë²• ê²°ê³¼ (ê°•ì¡°) -->
                    <div class="result-box p-4 rounded-xl bg-teal-50 border-2 border-teal-500 shadow-lg">
                        <p class="text-sm font-semibold text-teal-700 mb-2">ìš°ë¦¬ ê³µë²•í™” ìì¬ (ì‚¬ì¥ë‹˜ ì œí’ˆ)</p>
                        <div class="text-2xl font-extrabold text-teal-800" id="ourCost">0ì›</div>
                        <p class="text-xs text-teal-600 mt-2">ì˜ˆìƒ ì´ ì†Œìš” ê¸ˆì•¡</p>
                    </div>
                </div>

                <!-- ì ˆê° íš¨ê³¼ ìš”ì•½ -->
                <div class="mt-6 p-5 rounded-xl bg-teal-700 text-white text-center shadow-2xl">
                    <p class="text-sm font-light mb-1">ìš°ë¦¬ ê³µë²• ì‚¬ìš© ì‹œ ì´ ì ˆê° íš¨ê³¼</p>
                    <div class="text-4xl font-extrabold flex justify-center items-end">
                        <i class="fa-solid fa-wallet text-yellow-300 mr-3"></i>
                        <span id="savedAmount">0ì›</span>
                    </div>
                    <p class="text-xs mt-3 text-teal-200">
                        âœ… ì¸ê±´ë¹„ ì ˆê°: <span id="savedLabor">0ì›</span> ì ˆê° <br>
                        âœ… ì¸µê³  ì ˆê° íš¨ê³¼: <span id="heightBenefit">0ì›</span> ìƒë‹¹ì˜ ê³µê°„ ì´ë“
                    </p>
                </div>
            </div>

            <!-- CTA -->
            <div class="mt-6 text-center">
                <button onclick="alert('ê²¬ì  ë¬¸ì˜ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.')" class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300">
                    <i class="fa-solid fa-phone mr-2"></i> ìƒì„¸ ê²¬ì  ë° ìì¬ ìƒë‹´ ì‹ ì²­
                </button>
            </div>
            

        </main>
    </div>

    <script>
        // --- 1. CORE DATA (ì‚¬ì¥ë‹˜ì´ ìˆ˜ì •í•˜ì‹¤ í•µì‹¬ ë³€ìˆ˜) ---
        const CORE_DATA = {
            // ì¸ê±´ë¹„ ë° ë‹¨ê°€ (ìƒìˆ˜)
            LABOR_COST_PER_DAY: 250000, // ì¼ì¼ ì¸ê±´ë¹„ (25ë§Œì›)
            
            // ê¸°ì¡´ ì¼ë°˜ ê³µë²• (A) ë°ì´í„°
            NORMAL: {
                NAME: "ê¸°ì¡´ ì¼ë°˜ ê³µë²•",
                PRICE_PER_UNIT: 15000,      // ë‹¨ìœ„(í‰ë‹¹/í—¤ë² ë‹¹) ìì¬ ì„ëŒ€ ë‹¨ê°€
                THICKNESS_CM: 25,           // ì‹œê³µ ë‘ê»˜ (ì¸µê³  ì˜í–¥)
                LABOR_MULTIPLIER: 1.0,      // ì¸ê±´ë¹„ ê³„ìˆ˜ (ê¸°ì¤€ 1.0)
                TIME_MULTIPLIER: 1.0        // ê³µì‚¬ ê¸°ê°„ ê³„ìˆ˜ (ê¸°ì¤€ 1.0)
            },

            // ìš°ë¦¬ ê°œë°œ ê³µë²• (B) ë°ì´í„° (ì¥ì  ê°•ì¡°)
            OURS: {
                NAME: "ìš°ë¦¬ ê³µë²•í™” ìì¬",
                PRICE_PER_UNIT: 18000,      // ë‹¨ìœ„ ìì¬ ì„ëŒ€ ë‹¨ê°€ (ì¼ë°˜ë³´ë‹¤ ë¹„ìŒ€ ìˆ˜ ìˆìŒ)
                THICKNESS_CM: 15,           // ì‹œê³µ ë‘ê»˜ (10cm ì–‡ìŒ)
                LABOR_MULTIPLIER: 0.7,      // ì¸ê±´ë¹„ ê³„ìˆ˜ (30% ì ˆê°)
                TIME_MULTIPLIER: 0.8        // ê³µì‚¬ ê¸°ê°„ ê³„ìˆ˜ (20% ë‹¨ì¶•)
            },
            
            // ì¸µê³  í• ì¦ ê¸°ì¤€ (height / discount factor)
            HEIGHT_PREMIUM: {
                '3.0': 1.0,  // 3.0m ì´í•˜ (í‘œì¤€)
                '3.5': 1.05, // 3.0m ì´ˆê³¼ ~ 4.0m ì´í•˜ (5% í• ì¦)
                '4.5': 1.1,  // 4.0m ì´ˆê³¼ ~ 5.0m ì´í•˜ (10% í• ì¦)
            },
            
            // ì¸µê³  ì ˆê°ì•¡ ê¸°ì¤€ (ë†’ì´ 1cmë‹¹ ë°œìƒí•˜ëŠ” ê±´ì¶• ë©´ì  ì´ë“ì˜ ê°€ì¹˜. ì˜ˆ: 10cm * 10ë§Œì›/cm)
            HEIGHT_VALUE_PER_CM: 100000 // 1cm ì¸µê³  ì ˆê° ì‹œ í‰ë‹¹ ë°œìƒí•˜ëŠ” ê³µê°„ ê°€ì¹˜(ì›)
        };

        // --- 2. CANVAS DRAWING LOGIC ---
        const canvas = document.getElementById('comparisonCanvas');
        const ctx = canvas.getContext('2d');

        function drawCanvas(normalThickness, ourThickness) {
            const W = canvas.width;
            const H = canvas.height;
            ctx.clearRect(0, 0, W, H);

            const padding = 30;
            const barWidth = (W / 2) - padding * 2;
            const baseLine = H - padding; // ë°”ë‹¥ì„  Y ì¢Œí‘œ
            const scaleFactor = H / 30; // 30cm ê¸°ì¤€ìœ¼ë¡œ ìŠ¤ì¼€ì¼ë§

            // ì‹œê³µ ë‘ê»˜ ê³„ì‚° (ìµœëŒ€ ë‘ê»˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ê·œí™”)
            const maxThickness = Math.max(normalThickness, ourThickness);
            const heightN = normalThickness * scaleFactor;
            const heightO = ourThickness * scaleFactor;

            // 1. ì¼ë°˜ ê³µë²• (ì™¼ìª½)
            const xN = padding;
            // ë°”ë‹¥
            ctx.fillStyle = '#b3b3b3'; 
            ctx.fillRect(xN - 5, baseLine, barWidth + 10, 5); 
            // ë‹¨ë©´
            ctx.fillStyle = '#fca5a5'; 
            ctx.fillRect(xN, baseLine - heightN, barWidth, heightN);
            // í…ìŠ¤íŠ¸
            ctx.fillStyle = '#444';
            ctx.font = '14px Noto Sans KR';
            ctx.textAlign = 'center';
            ctx.fillText('ê¸°ì¡´ ê³µë²• (A)', xN + barWidth / 2, baseLine + 18);
            ctx.fillStyle = '#e53e3e';
            ctx.font = 'bold 16px Noto Sans KR';
            ctx.fillText(`${normalThickness}cm`, xN + barWidth / 2, baseLine - heightN - 10);
            
            // 2. ìš°ë¦¬ ê³µë²• (ì˜¤ë¥¸ìª½)
            const xO = W - padding - barWidth;
            // ë°”ë‹¥
            ctx.fillStyle = '#b3b3b3'; 
            ctx.fillRect(xO - 5, baseLine, barWidth + 10, 5);
            // ë‹¨ë©´
            ctx.fillStyle = '#67e8f9'; 
            ctx.fillRect(xO, baseLine - heightO, barWidth, heightO);
            // í…ìŠ¤íŠ¸
            ctx.fillStyle = '#444';
            ctx.font = '14px Noto Sans KR';
            ctx.textAlign = 'center';
            ctx.fillText('ìš°ë¦¬ ê³µë²• (B)', xO + barWidth / 2, baseLine + 18);
            ctx.fillStyle = '#06b6d4';
            ctx.font = 'bold 16px Noto Sans KR';
            ctx.fillText(`${ourThickness}cm`, xO + barWidth / 2, baseLine - heightO - 10);
            
            // 3. ì ˆê° íš¨ê³¼ í‘œì‹œ (í™”ì‚´í‘œ)
            if (normalThickness > ourThickness) {
                const midY = baseLine - (heightN + heightO) / 2;
                ctx.strokeStyle = '#ef4444';
                ctx.lineWidth = 2;
                ctx.setLineDash([5, 5]);
                
                // Saving area line
                ctx.beginPath();
                ctx.moveTo(xN + barWidth + 5, baseLine - heightN);
                ctx.lineTo(xN + barWidth + 5, baseLine - heightO);
                ctx.stroke();

                // Arrow/Text
                const diffCm = normalThickness - ourThickness;
                ctx.fillStyle = '#ef4444';
                ctx.font = 'bold 14px Noto Sans KR';
                ctx.textAlign = 'left';
                ctx.setLineDash([]); // Reset line dash
                ctx.fillText(`ì¸µê³  ${diffCm}cm ì ˆê°!`, xN + barWidth + 15, baseLine - heightN - 5);
            }
        }

        // --- 3. CALCULATION LOGIC ---
        function calculate() {
            const area = parseFloat(document.getElementById('area').value) || 0;
            const days = parseFloat(document.getElementById('days').value) || 0;
            const floorHeightKey = document.getElementById('floorHeight').value;
            const quantityUnit = parseFloat(document.getElementById('quantityUnit').value) || 0; // í‰ë‹¹/í—¤ë² ë‹¹ ë¬¼ëŸ‰

            const heightPremium = CORE_DATA.HEIGHT_PREMIUM[floorHeightKey];
            
            // 1. ê³µë²• A (ê¸°ì¡´ ì¼ë°˜) ê³„ì‚°
            // ì´ ë¬¼ëŸ‰ = ê·œëª¨ * ë‹¨ìœ„ ë¬¼ëŸ‰ * ì¸µê³  í• ì¦
            const totalQuantityN = area * quantityUnit * heightPremium;
            
            // ìì¬ë¹„ = ë¬¼ëŸ‰ * ë‹¨ê°€
            const materialCostN = totalQuantityN * CORE_DATA.NORMAL.PRICE_PER_UNIT;
            
            // ì¸ê±´ë¹„ = ì¼ì¼ ì¸ê±´ë¹„ * ì´ ê³µì‚¬ ê¸°ê°„ * ì¸ê±´ë¹„ ê³„ìˆ˜
            const laborCostN = CORE_DATA.LABOR_COST_PER_DAY * days * CORE_DATA.NORMAL.LABOR_MULTIPLIER;
            
            const totalCostN = Math.round(materialCostN + laborCostN);

            // 2. ê³µë²• B (ìš°ë¦¬ ìì¬) ê³„ì‚°
            const totalQuantityO = area * quantityUnit * heightPremium;
            
            const materialCostO = totalQuantityO * CORE_DATA.OURS.PRICE_PER_UNIT;
            
            // ì¸ê±´ë¹„ëŠ” ê³µì‚¬ ê¸°ê°„ê³¼ ì¸ê±´ë¹„ ê³„ìˆ˜ê°€ ëª¨ë‘ ì ìš©ë¨
            const effectiveDaysO = days * CORE_DATA.OURS.TIME_MULTIPLIER;
            const laborCostO = CORE_DATA.LABOR_COST_PER_DAY * effectiveDaysO * CORE_DATA.OURS.LABOR_MULTIPLIER;

            const totalCostO = Math.round(materialCostO + laborCostO);

            // 3. ì ˆê°ì•¡ ë° ì´ë“ ê³„ì‚°
            const savedAmount = totalCostN - totalCostO;
            const savedLabor = laborCostN - laborCostO;
            
            // ì¸µê³  ì´ë“ (ê³µë²• A ë‘ê»˜ - ê³µë²• B ë‘ê»˜) * ë©´ì  * cmë‹¹ ê³µê°„ ê°€ì¹˜
            const thicknessDiff = CORE_DATA.NORMAL.THICKNESS_CM - CORE_DATA.OURS.THICKNESS_CM;
            const heightBenefit = thicknessDiff * area * CORE_DATA.HEIGHT_VALUE_PER_CM; 

            // 4. UI ì—…ë°ì´íŠ¸
            document.getElementById('normalCost').innerText = totalCostN.toLocaleString() + 'ì›';
            document.getElementById('ourCost').innerText = totalCostO.toLocaleString() + 'ì›';
            document.getElementById('savedAmount').innerText = savedAmount.toLocaleString() + 'ì›';
            
            document.getElementById('savedLabor').innerText = savedLabor.toLocaleString() + 'ì›';
            document.getElementById('heightBenefit').innerText = heightBenefit.toLocaleString() + 'ì›';
            
            // 5. Canvas ì—…ë°ì´íŠ¸
            drawCanvas(CORE_DATA.NORMAL.THICKNESS_CM, CORE_DATA.OURS.THICKNESS_CM);
        }

        // ì´ˆê¸° ì‹¤í–‰
        window.onload = function() {
            calculate();
        };

    </script>
</body>
</html>
